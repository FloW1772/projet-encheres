<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>D√©tail vente</title>
</head>
<body>

    <h1>D√©tail vente</h1>

    <!--  Nom de l‚Äôarticle -->
    <h2 th:text="${article.nomArticle}">Nom de l'article</h2>

    <!--  Description -->
    <p><strong>Description :</strong></p>
    <p th:text="${article.description}">Description de l'article</p>

    <!--  Cat√©gorie -->
    <p><strong>Cat√©gorie :</strong>
        <span th:text="${article.categorie.libelle}">Informatique</span>
    </p>

    <!--  Meilleure offre -->
    <p><strong>Meilleure offre :</strong>
        <span th:if="${meilleureEnchere != null}"
              th:text="${meilleureEnchere.montant + ' pts par ' + meilleureEnchere.encherisseur.pseudo}">
              0 pts par quelqu‚Äôun
        </span>
        <span th:if="${meilleureEnchere == null}">Aucune offre pour l‚Äôinstant</span>
    </p>

    <!--  Mise √† prix -->
    <p><strong>Mise √† prix :</strong>
        <span th:text="${article.miseAPrix}">185</span> points
    </p>

    <!--  Fin de l'ench√®re -->
    <p><strong>Fin de l'ench√®re :</strong>
        <span th:text="${#temporals.format(article.dateFinEncheres, 'dd/MM/yyyy')}">09/10/2018</span>
    </p>

    <!--  Lieu de retrait -->
    <p><strong>Retrait :</strong><br>
        <span th:text="${article.adresseRetrait.rue}">10 all√©e des Alouettes</span><br>
        <span th:text="${article.adresseRetrait.codePostal}">44800</span>
        <span th:text="${article.retrait.ville}">Saint Herblain</span>
    </p>

    <!-- üßë‚Äçüíº Vendeur -->
    <p><strong>Vendeur :</strong>
        <span th:text="${article.vendeur.pseudo}">jojo44</span>
    </p>

    <hr>

    <!--  Affichage des erreurs d‚Äôench√®re -->
    <div th:if="${messagesErreur != null}">
        <ul>
            <li th:each="msg : ${messagesErreur}" th:text="${msg}">Erreur</li>
        </ul>
    </div>

    <!--  Formulaire d‚Äôench√®re -->
    <form th:action="@{/encherir}" method="post">
        <input type="hidden" name="idArticle" th:value="${article.idArticle}" />
        <input type="hidden" name="idUtilisateur" th:value="${#authentication.principal.idUtilisateur}" />

        <label for="montant"><strong>Ma proposition :</strong></label>
        <input type="number" id="montant" name="montant" min="1" required />

        <button type="submit">Ench√©rir</button>
    </form>

    <br>
    <a th:href="@{/encheres}"> Retour √† la liste des ench√®res</a>

</body>
</html>